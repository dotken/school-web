/* Animation keyframes */
@keyframes fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes fade {
  10% { transform: scale(1, 1); }
  35% { transform: scale(1, 1.7); }
  40% { transform: scale(1, 1.7); }
  50% { opacity: 1; }
  60% { transform: scale(1, 1); }
  100% { 
    transform: scale(1, 1); 
    opacity: 0; 
  }
}

/* Code block initial state - hidden until highlighted */
[data-language] code,
[class^="lang"] code,
pre [data-language],
pre [class^="lang"] {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
  animation: fade-in 50ms ease-in-out 2s forwards;
}

/* Rainbow highlighted code - no animation, smooth transition */
[data-language] code.rainbow,
[class^="lang"] code.rainbow,
pre [data-language].rainbow,
pre [class^="lang"].rainbow {
  animation: none;
  transition: opacity 50ms ease-in-out;
}

/* Loading state - no animation */
[data-language] code.loading,
[class^="lang"] code.loading,
pre [data-language].loading,
pre [class^="lang"].loading {
  animation: none;
}

/* Visible rainbow code */
[data-language] code.rainbow-show,
[class^="lang"] code.rainbow-show,
pre [data-language].rainbow-show,
pre [class^="lang"].rainbow-show {
  opacity: 1;
}

/* Pre element base styling */
pre {
  position: relative;
  background-color: #272822;
  word-wrap: break-word;
  margin: 0 0 20px 0;
  padding: 15px;
  color: #fff;
  font-size: 14px;
  line-height: 1.4;
  border-radius: 6px;
  overflow-x: auto;
  white-space: pre-wrap;
  box-sizing: border-box;
  max-width: 100%;
}

/* Font family for code elements */
pre, code {
  font-family: 'Monaco', 'Menlo', 'Consolas', 'Liberation Mono', 'Courier New', monospace;
}

/* Preloader container */
pre .preloader {
  position: absolute;
  top: 15px;
  left: 15px;
  z-index: 1;
}

/* Preloader dots */
pre .preloader div {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  display: inline-block;
  margin-right: 6px;
  opacity: 0;
  animation-play-state: paused;
  animation-fill-mode: forwards;
}

/* Loading state animations */
pre.loading .preloader div {
  animation-play-state: running;
}

pre.loading .preloader div:nth-of-type(1) {
  background: #0081f5;
  animation: fade 1.5s 300ms linear infinite;
}

pre.loading .preloader div:nth-of-type(2) {
  background: #5000f5;
  animation: fade 1.5s 438ms linear infinite;
}

pre.loading .preloader div:nth-of-type(3) {
  background: #9000f5;
  animation: fade 1.5s 577ms linear infinite;
}

pre.loading .preloader div:nth-of-type(4) {
  background: #f50419;
  animation: fade 1.5s 715ms linear infinite;
}

pre.loading .preloader div:nth-of-type(5) {
  background: #f57900;
  animation: fade 1.5s 853ms linear infinite;
}

pre.loading .preloader div:nth-of-type(6) {
  background: #f5e600;
  animation: fade 1.5s 992ms linear infinite;
}

pre.loading .preloader div:nth-of-type(7) {
  background: #00f50c;
  animation: fade 1.5s 1130ms linear infinite;
}

/* Syntax highlighting colors */
pre .comment {
  color: #75715E;
  font-style: italic;
}

pre .constant {
  color: #AE81FF;
}

pre .storage {
  color: #66D9EF;
  font-style: italic;
}

pre .string,
pre .comment.docstring {
  color: #E6DB74;
}

pre .support.tag {
  color: #fff;
}

pre .keyword {
  color: #F92672;
  font-weight: bold;
}

pre .selector,
pre .storage.modifier.extends {
  color: #F92672;
}

pre .inherited-class {
  font-style: italic;
}

pre .operator,
pre .support.tag-name,
pre .entity.tag {
  color: #F92672;
}

pre .entity,
pre .support.attribute,
pre .entity.attribute {
  color: #A6E22E;
}

pre .entity.name.type,
pre .entity.name.struct {
  color: #fff;
  font-weight: bold;
}

pre .support,
pre *[data-language="c"] .function.call {
  color: #66D9EF;
}

pre .css-property,
pre .storage.function {
  font-style: italic;
}

pre .variable.global,
pre .variable.class,
pre .variable.instance {
  color: #A6E22E;
}

/* Language-specific overrides */
[data-language="html"] .support.operator,
.lang-html .support.operator,
.language-html .support.operator {
  color: #fff;
}

[data-language="javascript"] .variable.super,
.lang-javascript .variable.super,
.language-javascript .variable.super,
[data-language="js"] .variable.super,
.lang-js .variable.super,
.language-js .variable.super {
  color: #66D9EF;
}

/* Responsive design */
@media (max-width: 768px) {
  pre {
    font-size: 12px;
    padding: 12px;
    margin: 0 0 15px 0;
  }
  
  pre .preloader {
    top: 12px;
    left: 12px;
  }
  
  pre .preloader div {
    width: 6px;
    height: 6px;
    margin-right: 4px;
  }
}

/* Ensure proper sizing for inline code */
code {
  font-size: 0.9em;
  padding: 2px 4px;
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
}

pre code {
  padding: 0;
  background-color: transparent;
  border-radius: 0;
  font-size: inherit;
}